import React from "react";
import firebase, { base } from './firebase.js';
import {Route} from 'react-router-dom';
import slugify from 'slugify';
import logo from '../assets/logo.png';

class GroupsView extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    handleShareButton(url) {
      this.props.openPopupBox(url);
    }

    memberJoin(user, group){
      localStorage.removeItem('hngrng-grp-vite', group.hash);
      const groupRef = firebase.database().ref(`/groups/`);
      groupRef.orderByChild("hash").equalTo(group.hash).once('value',
        (snapshot) => {
        if (snapshot.exists()) {
          let key = Object.keys(snapshot.val())[0];
          const groupMembersRef = firebase.database().ref(`/groups/${key}/members`);
          groupMembersRef.orderByChild("uid").equalTo(user.uid).once('value',
            (snapshot) => {
              if (snapshot.exists()) {
                let k = Object.keys(snapshot.val())[0];
                const groupMember = firebase.database().ref(`/groups/${key}/members/${k}`);
                groupMember.ref.update({status: 'joined'});
              }else{
                groupMembersRef.ref.push({
                  label: user.displayName,
                  status: 'joined',
                  user: user.displayName,
                  uid: user.uid,
                  userphoto: user.photoURL,
                  value: slugify(user.displayName),
                })
              }
            });
          const membersRef = firebase.database().ref(`/members/`);
          membersRef.orderByChild("uid").equalTo(user.uid).once('value',
            (snapshot) => {
              if (snapshot.exists()) {
                let ki = Object.keys(snapshot.val())[0];
                const invitedRef = firebase.database().ref(`/members/${ki}/invite`);
                const groupsRef = firebase.database().ref(`/members/${ki}/groups`);
                invitedRef.orderByChild("groupid").equalTo(key).once('value',
                (snapshot) => {
                  if (snapshot.exists()) {
                    let grp = snapshot.val();
                    let qi = Object.keys(snapshot.val())[0];
                    let id = grp[qi].groupid;
                    groupsRef.push({id});
                    invitedRef.ref.child(qi).remove();
                  }else{
                    groupsRef.push({id: key});
                  }
                });
            }
          });
        }
      });
    }

    memberLeave = (uid) => {
      const memberRef = firebase.database().ref(`/groups/${this.state.groupkey}/members/`);
      memberRef.orderByChild("uid").equalTo(uid).once('value',
        (snapshot) => {
        if (snapshot.exists()) {
          let key = Object.keys(snapshot.val())[0];
          base.remove(`/groups/${this.state.groupkey}/members/${key}`);
          const usersRef = firebase.database().ref('members');
          usersRef.orderByChild("uid").equalTo(uid).once('value', (snapshot) => {
            if (snapshot.exists()) {
              let k = Object.keys(snapshot.val())[0];
              const groupRef = firebase.database().ref(`/members/${k}/invite/`);
              groupRef.orderByChild("groupid").equalTo(this.state.groupkey).once('value', (snapshot) => {
                if (snapshot.exists()) {
                  let groupkey = Object.keys(snapshot.val())[0];
                  console.log(groupkey);
                  base.remove(`/members/${k}/invite/${groupkey}`);
                }
              });
            }
          });
        }
      });
    }

    componentWillMount(){
      if(this.props.name){
        const groupRef = firebase.database().ref(`/groups/`);
        groupRef
        .orderByChild('smsname')
        .equalTo(this.props.name)
        .once('value', (gsnap) => {
          if (gsnap.exists()) {
            let g = gsnap.val();
            let key = Object.keys(gsnap.val())[0];
            this.setState({groupkey: key});
            let group = g[key];
            const ownerRef = firebase.database().ref(`/members/`);
            ownerRef.orderByChild("uid").equalTo(group.owner).once('value',
              (snapshot) => {
              if (snapshot.exists()) {
                let owner = snapshot.val();
                let key = Object.keys(snapshot.val())[0];
                owner = owner[key];
                this.setState({owner});
              }
            });
            if(group.hash === this.props.hash){
              this.setState({group});
            }else{
              window.location.replace('/');
            }
            return;
          }
         });
      }
      if(this.props.id){
        const groupRef = firebase.database().ref(`/groups/${this.props.id}`);
        groupRef.once('value', (gsnap) => {
          if (gsnap.exists()) {
            let group = gsnap.val();
            const ownerRef = firebase.database().ref(`/members/`);
            ownerRef.orderByChild("uid").equalTo(group.owner).once('value',
              (snapshot) => {
              if (snapshot.exists()) {
                let owner = snapshot.val();
                let key = Object.keys(snapshot.val())[0];
                owner = owner[key];
                this.setState({owner});
              }
            });
            this.setState({group});
            return;
          }
        });
      }
    }

    render() {
      const { group, owner } = this.state;
      const { user } = this.props;
      let Members = '';
      let shareUrl = '';

      if(group){
        let base = window.location.protocol + "//" + window.location.host
        shareUrl = base+'/group/invite/'+group.smsname+'/'+group.hash+'/true';
      }

      if(group && group.members){
        Members = Object.entries(group.members).map((c,i) => {
          let member = c[1];
          return (
          <div className="crew-member-row" key={`crew-member-${i}`}>
            <img src={member.userphoto} alt={member.user} className="crew-member-image" />
            <p className="small crew-member-name">{member.user}</p>
            <div className="crew-member-info">
              <span className={`crew-member-status ${member.status}`}>{member.status}</span>
            </div>
          </div> )
        });
      }

      return (
        <div className="public">
        {!user &&
          <div className="brand">
            <img src={logo} alt="Hangerang" />
            <h1>Hangerang</h1>
          </div>
        }
        <div className="page-wrapper">
          {user &&
            <Route render={({history}) => (
              <div className="fa fa-arrow-circle-left nav-btn top-left"
                 onClick={() => { history.push('/groups') }}
              ></div>
            )}/>
          }
          {group &&
            <div>
            {this.props.invite && owner &&
              <div>
                <img alt='' src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjUxMnB4IiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4Ij48cGF0aCBkPSJtNTEyIDI1NmMwIDE0MS4zODY3MTktMTE0LjYxMzI4MSAyNTYtMjU2IDI1NnMtMjU2LTExNC42MTMyODEtMjU2LTI1NiAxMTQuNjEzMjgxLTI1NiAyNTYtMjU2IDI1NiAxMTQuNjEzMjgxIDI1NiAyNTZ6bTAgMCIgZmlsbD0iIzJhMmY0ZiIvPjxnIGZpbGw9IiMzZDQxNTkiPjxwYXRoIGQ9Im0zNzMuMDI3MzQ0IDM4NC41MTk1MzFjMCA2LjM1NTQ2OSA1LjE0MDYyNSAxMS40OTYwOTQgMTEuNDkyMTg3IDExLjQ5NjA5NGg1LjUwNzgxM2MxNy4xNTYyNSAwIDMxLjA2MjUgMTMuOTE3OTY5IDMxLjA2MjUgMzEuMDc0MjE5djUuNDk2MDk0YzAgMy4xNzU3ODEgMS4yODUxNTYgNi4wNTA3ODEgMy4zNjcxODcgOC4xMjg5MDYgMS40OTIxODggMS40OTYwOTQgMy4zOTQ1MzEgMi41ODIwMzEgNS41MjczNDQgMy4wNjI1IDQuODc4OTA2LTQuNTE1NjI1IDkuNTg5ODQ0LTkuMjI2NTYzIDE0LjA5Mzc1LTE0LjExNzE4OHYtMi41NzAzMTJjMC0xNS40MzM1OTQgMTEuMjUzOTA2LTI4LjI0MjE4OCAyNi4wMDc4MTMtMzAuNjU2MjUgNC44NzEwOTMtNy40MTc5NjkgOS4zNjMyODEtMTUuMDk3NjU2IDEzLjQ1NzAzMS0yMy4wMzEyNS0uOTE3OTY5LS4yNS0xLjg5MDYyNS0uMzc1LTIuODk0NTMxLS4zNzVoLTUuNTAzOTA3Yy0xNy4xNjAxNTYgMC0zMS4wNjY0MDYtMTMuOTA2MjUtMzEuMDY2NDA2LTMxLjA2NjQwNnYtNS41MDM5MDdjMC0zLjE2Nzk2OS0xLjI4NTE1Ni02LjA1MDc4MS0zLjM2MzI4MS04LjEyODkwNi0yLjA4MjAzMi0yLjA4MjAzMS00Ljk1MzEyNS0zLjM2NzE4Ny04LjEyODkwNi0zLjM2NzE4Ny02LjM1NTQ2OSAwLTExLjQ5NjA5NCA1LjE1MjM0My0xMS40OTYwOTQgMTEuNDk2MDkzdjUuNTAzOTA3YzAgMTcuMTYwMTU2LTEzLjkwNjI1IDMxLjA2NjQwNi0zMS4wNjI1IDMxLjA2NjQwNmgtNS41MDc4MTNjLTMuMTc1NzgxIDAtNi4wNTA3ODEgMS4yODUxNTYtOC4xMjg5MDYgMy4zNjMyODEtMi4wNzgxMjUgMi4wODIwMzEtMy4zNjMyODEgNC45NjQ4NDQtMy4zNjMyODEgOC4xMjg5MDZ6bTAgMCIvPjxwYXRoIGQ9Im0zMS4zNDM3NSAyNzIuNzIyNjU2aDUuNTAzOTA2YzE3LjE1NjI1IDAgMzEuMDY2NDA2LTEzLjkxMDE1NiAzMS4wNjY0MDYtMzEuMDcwMzEydi01LjVjMC02LjM0NzY1NiA1LjE0ODQzOC0xMS40OTYwOTQgMTEuNDk2MDk0LTExLjQ5NjA5NHMxMS40OTIxODggNS4xNDg0MzggMTEuNDkyMTg4IDExLjQ5NjA5NHY1LjVjMCAxNy4xNjAxNTYgMTMuOTEwMTU2IDMxLjA3MDMxMiAzMS4wNzAzMTIgMzEuMDcwMzEyaDUuNWM2LjM0NzY1NiAwIDExLjQ5NjA5NCA1LjE0NDUzMiAxMS40OTYwOTQgMTEuNDkyMTg4cy01LjE0ODQzOCAxMS40OTYwOTQtMTEuNDk2MDk0IDExLjQ5NjA5NGgtNS41Yy0xNy4xNjAxNTYgMC0zMS4wNzAzMTIgMTMuOTEwMTU2LTMxLjA3MDMxMiAzMS4wNzAzMTJ2NS41YzAgNi4zNDc2NTYtNS4xNDQ1MzIgMTEuNDk2MDk0LTExLjQ5MjE4OCAxMS40OTYwOTRzLTExLjQ5NjA5NC01LjE0ODQzOC0xMS40OTYwOTQtMTEuNDk2MDk0di01LjVjMC0xNy4xNjAxNTYtMTMuOTEwMTU2LTMxLjA3MDMxMi0zMS4wNjY0MDYtMzEuMDcwMzEyaC01LjUwMzkwNmMtNi4zNDc2NTYgMC0xMS40OTIxODgtNS4xNDg0MzgtMTEuNDkyMTg4LTExLjQ5NjA5NHM1LjE0NDUzMi0xMS40OTIxODggMTEuNDkyMTg4LTExLjQ5MjE4OHptMCAwIi8+PHBhdGggZD0ibTM4NS41NjI1IDg3Ljc2OTUzMXYuMDExNzE5YzAgNi4zNDM3NSA1LjE1MjM0NCAxMS40OTIxODggMTEuNDk2MDk0IDExLjQ5MjE4OGg1LjUwNzgxMmMxNy4xNTYyNSAwIDMxLjA2MjUgMTMuOTEwMTU2IDMxLjA2MjUgMzEuMDY2NDA2djUuNTA3ODEyYzAgMy4xNzU3ODIgMS4yODUxNTYgNi4wMzkwNjMgMy4zNjMyODIgOC4xMjg5MDYgMi4wODk4NDMgMi4wNzgxMjYgNC45NTMxMjQgMy4zNjMyODIgOC4xMzI4MTIgMy4zNjMyODIgNi4zNTE1NjIgMCAxMS40OTIxODgtNS4xNTIzNDQgMTEuNDkyMTg4LTExLjQ5MjE4OHYtNS41MDc4MTJjMC04LjQxMDE1NiAzLjM0Mzc1LTE2LjAzOTA2MyA4Ljc4OTA2Mi0yMS42Mjg5MDYtMTEuMjc3MzQ0LTE2LjAwNzgxMy0yNC4zNDc2NTYtMzAuNjY3OTY5LTM4LjkyNTc4MS00My42NzU3ODItNS42ODM1OTQgNi44NzUtMTQuMjkyOTY5IDExLjI1LTIzLjkxNDA2MyAxMS4yNWgtNS41MDc4MTJjLTYuMzQzNzUgMC0xMS40OTYwOTQgNS4xNDQ1MzItMTEuNDk2MDk0IDExLjQ4NDM3NXptMCAwIi8+PC9nPjxwYXRoIGQ9Im00MjIuMzIwMzEyIDI1NmMwIDYyLjA2NjQwNi0zNCAxMTYuMTkxNDA2LTg0LjM5ODQzNyAxNDQuNzU3ODEydi4wMTE3MTljLTI0LjE3NTc4MSAxMy43MTA5MzgtNTIuMTQwNjI1IDIxLjU0Njg3NS04MS45MTc5NjkgMjEuNTQ2ODc1LTIxLjcyMjY1NiAwLTQyLjQ3NjU2Mi00LjE3MTg3NS02MS40OTIxODctMTEuNzQ2MDk0aC0uMDIzNDM4Yy02MS40MDYyNS0yNC40NDkyMTgtMTA0LjgwMDc4MS04NC40Mzc1LTEwNC44MDA3ODEtMTU0LjU3MDMxMiAwLTQ2LjYxMzI4MSAxOS4xNzE4NzUtODguNzUzOTA2IDUwLjA3MDMxMi0xMTguOTQxNDA2IDI5Ljk4MDQ2OS0yOS4zMDg1OTQgNzEtNDcuMzc1IDExNi4yNDYwOTQtNDcuMzc1IDE4Ljk5NjA5NCAwIDM3LjI1IDMuMTg3NSA1NC4yNSA5LjA0Njg3NSA2NS4yMTA5MzggMjIuNDk2MDkzIDExMi4wNjY0MDYgODQuNDA2MjUgMTEyLjA2NjQwNiAxNTcuMjY5NTMxem0wIDAiIGZpbGw9IiM2NmJhZWQiLz48cGF0aCBkPSJtMjkxLjEwMTU2MiA0MTguNTkzNzVjLTExLjMxNjQwNiAyLjQzNzUtMjMuMDYyNSAzLjcyMjY1Ni0zNS4wOTc2NTYgMy43MjI2NTYtMjEuNzIyNjU2IDAtNDIuNDc2NTYyLTQuMTcxODc1LTYxLjQ5MjE4Ny0xMS43NDYwOTRoLS4wMjM0MzhjLTYxLjQwNjI1LTI0LjQ0OTIxOC0xMDQuODAwNzgxLTg0LjQzNzUtMTA0LjgwMDc4MS0xNTQuNTcwMzEyIDAtNDYuNjEzMjgxIDE5LjE3MTg3NS04OC43NTM5MDYgNTAuMDcwMzEyLTExOC45NDE0MDYgMjkuOTgwNDY5LTI5LjMwODU5NCA3MS00Ny4zNzUgMTE2LjI0NjA5NC00Ny4zNzUgMTIuMDM1MTU2IDAgMjMuNzY5NTMyIDEuMjczNDM3IDM1LjA3ODEyNSAzLjcxODc1LTMxLjE5MTQwNiA2LjY5OTIxOC01OS4xMzI4MTIgMjIuMTUyMzQ0LTgxLjEyODkwNiA0My42NTYyNS0zMC44OTQ1MzEgMzAuMTg3NS01MC4wNzAzMTMgNzIuMzI4MTI1LTUwLjA3MDMxMyAxMTguOTQxNDA2IDAgNzAuMTMyODEyIDQzLjM5NDUzMiAxMzAuMTIxMDk0IDEwNC44MDQ2ODggMTU0LjU3MDMxMmguMDE5NTMxYzguNDcyNjU3IDMuMzc1IDE3LjI5Mjk2OSA2LjA4MjAzMiAyNi4zOTQ1MzEgOC4wMjM0Mzh6bTAgMCIgZmlsbD0iIzJiYTFjZiIvPjxwYXRoIGQ9Im00MjIuMzIwMzEyIDI1NmMwIDYyLjA2NjQwNi0zNCAxMTYuMTkxNDA2LTg0LjM5ODQzNyAxNDQuNzU3ODEyLTI4Ljk4NDM3NS01OS4wMzUxNTYtOTYuNDAyMzQ0LTYuNzgxMjUtMTA0LjIzODI4MS04MC40MzM1OTMtNy44MjQyMTktNzMuNjY3OTY5IDgwLjcxODc1LTQ3LjgwNDY4OCAxMDYuNTgyMDMxLTczLjY2Nzk2OSAyNS44NTkzNzUtMjUuODU5Mzc1IDAtNjUuODI4MTI1LTIxLjk0NTMxMy00My44ODI4MTItMjEuOTQxNDA2IDIxLjk0MTQwNi01NC44NTU0NjggMTUuNjcxODc0LTQ3LjAxOTUzMS02LjI2OTUzMiA3LjgzNTkzOC0yMS45NDUzMTIgNDUuNDUzMTI1LTMxLjM0NzY1NiAxOC4zOTA2MjUtNDAuNzUzOTA2LTI3LjA3NDIxOC05LjM5MDYyNSAwLTM2LjQ2NDg0NCAyMC41NDI5NjktNTcuMDA3ODEybC4wMTk1MzEtLjAxMTcxOWM0My4yNSAxNC45MjE4NzUgNzguNDIxODc1IDQ3LjE3OTY4NyA5Ny4xOTUzMTMgODguNDYwOTM3LTIwLjE2NDA2MyAwLTM4Ljk3MjY1NyAzNC4zODY3MTktMjAuMTY0MDYzIDUzLjE5NTMxMyAxMC4yMDcwMzIgMTAuMjEwOTM3IDIyLjg5NDUzMiAxMyAzNS4wMjM0MzggMTMuOTEwMTU2LjAxMTcxOC41NjI1LjAxMTcxOCAxLjEzNjcxOS4wMTE3MTggMS43MDMxMjV6bTAgMCIgZmlsbD0iIzNmYjc3NyIvPjxwYXRoIGQ9Im0xOTQuNTExNzE5IDQxMC41NzAzMTJoLS4wMjM0MzhjLTYxLjQwNjI1LTI0LjQ0OTIxOC0xMDQuODAwNzgxLTg0LjQzNzUtMTA0LjgwMDc4MS0xNTQuNTcwMzEyIDAtNDYuNjEzMjgxIDE5LjE3MTg3NS04OC43NTM5MDYgNTAuMDcwMzEyLTExOC45NDE0MDYgNDUuMzQ3NjU3IDEwLjg2NzE4NyA1My4xODc1IDQyLjIwMzEyNSAyMy40MDYyNSA1My4xNzU3ODEtMjkuMzUxNTYyIDEwLjgxMjUtMzEuMjkyOTY4IDMwLjc2MTcxOS0xLjM0NzY1NiA0MC4zMzIwMzEuNDQ5MjE5LjE0NDUzMi44ODY3MTkuMjgxMjUgMS4zNDc2NTYuNDE3OTY5IDIxLjE3OTY4OCA2LjM1MTU2MyAxMy4wMTk1MzIgMjYuMzA4NTk0LTIuNzI2NTYyIDM4LjU4NTkzNy03LjU0Mjk2OSA1Ljg4MjgxMy0xNi44NDM3NSAxMC0yNS40ODQzNzUgMTAtMjYuNjQ0NTMxIDAtNC43MDMxMjUgNTQuMDc0MjE5IDI3LjQyNTc4MSA1NC4wNzQyMTkgMzIuMTMyODEzIDAgMzIuMTMyODEzIDc2LjkyNTc4MSAzMi4xMzI4MTMgNzYuOTI1Nzgxem0wIDAiIGZpbGw9IiMzZmI3NzciLz48cGF0aCBkPSJtMTk0LjUxMTcxOSA0MTAuNTcwMzEyaC0uMDIzNDM4Yy02MS40MDYyNS0yNC40NDkyMTgtMTA0LjgwMDc4MS04NC40Mzc1LTEwNC44MDA3ODEtMTU0LjU3MDMxMiAwLTQ2LjYxMzI4MSAxOS4xNzE4NzUtODguNzUzOTA2IDUwLjA3MDMxMi0xMTguOTQxNDA2IDQ1LjM0NzY1NyAxMC44NjcxODcgNTMuMTg3NSA0Mi4yMDMxMjUgMjMuNDA2MjUgNTMuMTc1NzgxLTI5LjM1MTU2MiAxMC44MTI1LTMxLjI5Mjk2OCAzMC43NjE3MTktMS4zNDc2NTYgNDAuMzMyMDMxLTEuMjczNDM3IDguMjk2ODc1LTEuOTMzNTk0IDE2Ljc4MTI1LTEuOTMzNTk0IDI1LjQzMzU5NCAwIDQuNTY2NDA2LjE4NzUgOS4wODk4NDQuNTU0Njg4IDEzLjU3MDMxMi03LjU0Mjk2OSA1Ljg4MjgxMy0xNi44NDM3NSAxMC0yNS40ODQzNzUgMTAtMjYuNjQ0NTMxIDAtNC43MDMxMjUgNTQuMDc0MjE5IDI3LjQyNTc4MSA1NC4wNzQyMTkgMzIuMTMyODEzIDAgMzIuMTMyODEzIDc2LjkyNTc4MSAzMi4xMzI4MTMgNzYuOTI1Nzgxem0wIDAiIGZpbGw9IiMyZGEzNjUiLz48cGF0aCBkPSJtNDAuODY3MTg4IDE5OS4yMzQzNzV2LTEwNC42MzY3MTljMC0xMC42MzI4MTIgMS43NzM0MzctMjEuMDUwNzgxIDUuMjczNDM3LTMwLjk2NDg0NCAxMy4wOTM3NS0zNy4yNjU2MjQgNDguNDYwOTM3LTYyLjMxMjUgODcuOTk2MDk0LTYyLjMxMjUgNC44OTQ1MzEgMCA5Ljc4NTE1Ni4zNzg5MDcgMTQuNTMxMjUgMS4xMjg5MDcgMjEuNzIyNjU2IDMuMzk0NTMxIDQxLjY0ODQzNyAxNC40ODA0NjkgNTYuMTAxNTYyIDMxLjIxODc1IDE0LjYwMTU2MyAxNi45MTc5NjkgMjIuNjQ0NTMxIDM4LjU1NDY4NyAyMi42NDQ1MzEgNjAuOTI1NzgxdjEwNC42NDA2MjUiIGZpbGw9IiNmNzRmNGYiLz48cGF0aCBkPSJtNzkuMjM0Mzc1IDk4LjY3OTY4OGMwIDM3LjAxNTYyNCAyMS42NzE4NzUgNzkuODM1OTM3IDMzLjU3NDIxOSAxMDAuNTU4NTkzaC03MS45NDUzMTN2LTEwNC42NDA2MjVjMC0xMC42MzI4MTIgMS43NzM0MzgtMjEuMDUwNzgxIDUuMjczNDM4LTMwLjk2NDg0NCAxMy4wMTU2MjUtMzcuMDUwNzgxIDQ4LjA1ODU5My02Mi4wMjM0MzcgODcuMzE2NDA2LTYyLjMwNDY4Ny0yOC42NzU3ODEuNzE0ODQ0LTU0LjIxODc1IDQ2LjcyMjY1Ni01NC4yMTg3NSA5Ny4zNTE1NjN6bTAgMCIgZmlsbD0iI2RkMzAzMyIvPjxwYXRoIGQ9Im02Ni4yMzA0NjkgMTM5LjQ0NTMxMmMwIDExLjQ2MDkzOC04LjM3MTA5NCAyMC45NjA5MzgtMTkuMzMyMDMxIDIyLjcyNjU2My0xLjE5OTIxOS4xOTUzMTMtMi40Mjk2ODguMjk2ODc1LTMuNjg3NS4yOTY4NzUtMTIuNzE4NzUgMC0yMy4wMTk1MzItMTAuMzA0Njg4LTIzLjAxOTUzMi0yMy4wMjM0MzhzMTAuMzAwNzgyLTIzLjAxOTUzMSAyMy4wMTk1MzItMjMuMDE5NTMxYzEuMjU3ODEyIDAgMi40ODgyODEuMTAxNTYzIDMuNjg3NS4yOTI5NjkgMTAuOTYwOTM3IDEuNzY1NjI1IDE5LjMzMjAzMSAxMS4yNjk1MzEgMTkuMzMyMDMxIDIyLjcyNjU2MnptMCAwIiBmaWxsPSIjZjZjYWFlIi8+PHBhdGggZD0ibTY2LjIzMDQ2OSAxMzkuNDQ1MzEyYzAgMTEuNDYwOTM4LTguMzcxMDk0IDIwLjk2MDkzOC0xOS4zMzIwMzEgMjIuNzI2NTYzLTEuOTkyMTg4LTcuMjQyMTg3LTMuMDU0Njg4LTE0Ljg1OTM3NS0zLjA1NDY4OC0yMi43MjY1NjMgMC03Ljg2MzI4MSAxLjA2MjUtMTUuNDg0Mzc0IDMuMDU0Njg4LTIyLjcyNjU2MiAxMC45NjA5MzcgMS43NjU2MjUgMTkuMzMyMDMxIDExLjI2OTUzMSAxOS4zMzIwMzEgMjIuNzI2NTYyem0wIDAiIGZpbGw9IiNlYWI1OTkiLz48cGF0aCBkPSJtNTEuNDM3NSAxMzkuNDQ1MzEyYzAgNC41NDI5NjktMy42ODM1OTQgOC4yMjY1NjMtOC4yMjY1NjIgOC4yMjY1NjMtNC41NDI5NjkgMC04LjIyNjU2My0zLjY4MzU5NC04LjIyNjU2My04LjIyNjU2MyAwLTQuNTQyOTY4IDMuNjgzNTk0LTguMjI2NTYyIDguMjI2NTYzLTguMjI2NTYyIDQuNTQyOTY4IDAgOC4yMjY1NjIgMy42ODM1OTQgOC4yMjY1NjIgOC4yMjY1NjJ6bTAgMCIgZmlsbD0iI2VhYjU5OSIvPjxwYXRoIGQ9Im0xOTMuMjUgMTEwLjA1MDc4MXY3OS4xMzI4MTNjLTEyLjIzMDQ2OSAxMS42NzU3ODEtMjcuOTE0MDYyIDE5Ljc2MTcxOC00NS4zNjcxODggMjIuNTc0MjE4LS4xMzY3MTguMDIzNDM4LS4yODEyNS4wNDY4NzYtLjQxNzk2OC4wNjY0MDctNC4zMzU5MzguNjk1MzEyLTguNzg1MTU2IDEuMDM5MDYyLTEzLjMyODEyNSAxLjAzOTA2Mi00Ny4zMDA3ODEgMC04NS42NDg0MzgtMzguMzQ3NjU2LTg1LjY0ODQzOC04NS42NDg0Mzd2LTMyLjYxNzE4OGMwLTQuMTc1NzgxLjI5Njg3NS04LjI4NTE1Ni44NzUtMTIuMzAwNzgxIDIwLjM3ODkwNyAxNC42NTYyNSA0OS41OTc2NTcgMTMuMjA3MDMxIDY4LjIxMDkzOC00LjM5MDYyNSA2LjE2Nzk2OS01LjgyMDMxMiAxMC40NDkyMTktMTIuNzUzOTA2IDEyLjg3MTA5My0yMC4xMDkzNzUgMS4zNTE1NjMgMTIuODc4OTA2IDcuMjQyMTg4IDI1LjQxNDA2MyAxNy42Nzk2ODggMzUuMjg1MTU2IDEyLjQzMzU5NCAxMS43MzQzNzUgMjguODU1NDY5IDE3LjM5NDUzMSA0NS4xMjUgMTYuOTY4NzV6bTAgMCIgZmlsbD0iI2VhYjU5OSIvPjxwYXRoIGQ9Im0xOTMuMjUgMTEwLjA1MDc4MXY3OS4xMzI4MTNjLTEyLjIzMDQ2OSAxMS42NzU3ODEtMjcuOTE0MDYyIDE5Ljc2MTcxOC00NS4zNjcxODggMjIuNTc0MjE4LS4xMzY3MTguMDIzNDM4LS4yODEyNS4wNDY4NzYtLjQxNzk2OC4wNjY0MDctNDAuOTY4NzUtNi4zOTg0MzgtNzIuMzA0Njg4LTQxLjg1MTU2My03Mi4zMDQ2ODgtODQuNjA5Mzc1di0zMi42MTcxODhjMC0uODcxMDk0LjAxNTYyNS0xLjczMDQ2OC4wNDI5NjktMi41OTM3NSAxNS4xMDU0NjkgMS41NTA3ODIgMzAuNzg5MDYzLTMuMTQ0NTMxIDQyLjM3MTA5NC0xNC4wOTc2NTYgNi4xNjc5NjktNS44MjAzMTIgMTAuNDQ5MjE5LTEyLjc1NzgxMiAxMi44NzEwOTMtMjAuMTA5Mzc1IDEuMzUxNTYzIDEyLjg3ODkwNiA3LjI0MjE4OCAyNS40MTQwNjMgMTcuNjc5Njg4IDM1LjI4MTI1IDEyLjQzMzU5NCAxMS43MzgyODEgMjguODU1NDY5IDE3LjM5ODQzNyA0NS4xMjUgMTYuOTcyNjU2em0wIDAiIGZpbGw9IiNmNmNhYWUiLz48cGF0aCBkPSJtMTgwLjEzNjcxOSAxMTkuOTgwNDY5YzAtNy44NTkzNzUtNi4zNzEwOTQtMTQuMjI2NTYzLTE0LjIyNjU2My0xNC4yMjY1NjMtNy44NTU0NjggMC0xNC4yMjI2NTYgNi4zNjcxODgtMTQuMjIyNjU2IDE0LjIyNjU2MyIgZmlsbD0iI2VhYjU5OSIvPjxwYXRoIGQ9Im0xMTYuNTk3NjU2IDExOS45ODA0NjljMC03Ljg1OTM3NS02LjM2NzE4Ny0xNC4yMjY1NjMtMTQuMjIyNjU2LTE0LjIyNjU2My03Ljg1OTM3NSAwLTE0LjIyNjU2MiA2LjM2NzE4OC0xNC4yMjY1NjIgMTQuMjI2NTYzIiBmaWxsPSIjZWFiNTk5Ii8+PHBhdGggZD0ibTExMi4wODk4NDQgMTI2LjAzNTE1NmMwIDUuMzY3MTg4LTQuMzUxNTYzIDkuNzE4NzUtOS43MTQ4NDQgOS43MTg3NS01LjM2NzE4OCAwLTkuNzE4NzUtNC4zNTE1NjItOS43MTg3NS05LjcxODc1IDAtNS4zNjcxODcgNC4zNTE1NjItOS43MTQ4NDQgOS43MTg3NS05LjcxNDg0NCA1LjM2MzI4MSAwIDkuNzE0ODQ0IDQuMzQ3NjU3IDkuNzE0ODQ0IDkuNzE0ODQ0em0wIDAiIGZpbGw9IiMzZDQxNTkiLz48cGF0aCBkPSJtMTc1LjYyODkwNiAxMjYuMDM1MTU2YzAgNS4zNjcxODgtNC4zNTE1NjIgOS43MTg3NS05LjcxODc1IDkuNzE4NzUtNS4zNjcxODcgMC05LjcxNDg0NC00LjM1MTU2Mi05LjcxNDg0NC05LjcxODc1IDAtNS4zNjcxODcgNC4zNDc2NTctOS43MTQ4NDQgOS43MTQ4NDQtOS43MTQ4NDQgNS4zNjcxODggMCA5LjcxODc1IDQuMzQ3NjU3IDkuNzE4NzUgOS43MTQ4NDR6bTAgMCIgZmlsbD0iIzNkNDE1OSIvPjxwYXRoIGQ9Im0xNDMuODU5Mzc1IDE1MC41aC0xOS40MzM1OTRjLTIuMzEyNSAwLTQuMTkxNDA2LTEuODc1LTQuMTkxNDA2LTQuMTkxNDA2IDAtMi4zMTI1IDEuODc4OTA2LTQuMTkxNDA2IDQuMTkxNDA2LTQuMTkxNDA2aDE5LjQzMzU5NGMyLjMxNjQwNiAwIDQuMTkxNDA2IDEuODc4OTA2IDQuMTkxNDA2IDQuMTkxNDA2IDAgMi4zMTY0MDYtMS44NzUgNC4xOTE0MDYtNC4xOTE0MDYgNC4xOTE0MDZ6bTAgMCIgZmlsbD0iI2VhYjU5OSIvPjxwYXRoIGQ9Im0xMzQuMTQ0NTMxIDE3Ny4wMTU2MjVjLTcuMTcxODc1IDAtMTQuMzQ3NjU2LTEuNzk2ODc1LTIwLjg4MjgxMi01LjM5MDYyNS0xLjg0Mzc1LTEuMDExNzE5LTIuNTE5NTMxLTMuMzI4MTI1LTEuNTAzOTA3LTUuMTcxODc1IDEuMDExNzE5LTEuODQ3NjU2IDMuMzMyMDMyLTIuNTE5NTMxIDUuMTcxODc2LTEuNTAzOTA2IDEwLjc3NzM0MyA1LjkyMTg3NSAyMy42NDg0MzcgNS45MjE4NzUgMzQuNDIxODc0IDAgMS44NDM3NS0xLjAxNTYyNSA0LjE2NDA2My0uMzQzNzUgNS4xNzU3ODIgMS41MDM5MDYgMS4wMTU2MjUgMS44NDM3NS4zMzk4NDQgNC4xNjAxNTYtMS41MDM5MDYgNS4xNzE4NzUtNi41MzUxNTcgMy41OTM3NS0xMy43MDcwMzIgNS4zOTA2MjUtMjAuODc4OTA3IDUuMzkwNjI1em0wIDAiIGZpbGw9IiNlYWI1OTkiLz48cGF0aCBkPSJtMTEwLjEwOTM3NSAxMjQuMzIwMzEyYzAgMi4zMDA3ODItMS44NjMyODEgNC4xNjQwNjMtNC4xNjQwNjMgNC4xNjQwNjMtMi4yOTY4NzQgMC00LjE2NDA2Mi0xLjg2MzI4MS00LjE2NDA2Mi00LjE2NDA2MyAwLTIuMzAwNzgxIDEuODY3MTg4LTQuMTY0MDYyIDQuMTY0MDYyLTQuMTY0MDYyIDIuMzAwNzgyIDAgNC4xNjQwNjMgMS44NjMyODEgNC4xNjQwNjMgNC4xNjQwNjJ6bTAgMCIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im0xNzQuMTI1IDEyNC4zMjAzMTJjMCAyLjMwMDc4Mi0xLjg2NzE4OCA0LjE2NDA2My00LjE2NDA2MiA0LjE2NDA2My0yLjMwMDc4MiAwLTQuMTY0MDYzLTEuODYzMjgxLTQuMTY0MDYzLTQuMTY0MDYzIDAtMi4zMDA3ODEgMS44NjMyODEtNC4xNjQwNjIgNC4xNjQwNjMtNC4xNjQwNjIgMi4yOTY4NzQgMCA0LjE2NDA2MiAxLjg2MzI4MSA0LjE2NDA2MiA0LjE2NDA2MnptMCAwIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0ibTE5Mi40Mzc1IDE0OS43MDMxMjVjMCA1Ljg5MDYyNS00Ljc3NzM0NCAxMC42Njc5NjktMTAuNjY3OTY5IDEwLjY2Nzk2OS01Ljg5NDUzMSAwLTEwLjY3MTg3NS00Ljc3NzM0NC0xMC42NzE4NzUtMTAuNjY3OTY5IDAtNS44OTQ1MzEgNC43NzczNDQtMTAuNjcxODc1IDEwLjY3MTg3NS0xMC42NzE4NzUgNS44OTA2MjUgMCAxMC42Njc5NjkgNC43NzczNDQgMTAuNjY3OTY5IDEwLjY3MTg3NXptMCAwIiBmaWxsPSIjZWFiNTk5Ii8+PHBhdGggZD0ibTk3LjE3OTY4OCAxNDkuNzAzMTI1YzAgNS44OTA2MjUtNC43NzczNDQgMTAuNjY3OTY5LTEwLjY2Nzk2OSAxMC42Njc5NjktNS44OTQ1MzEgMC0xMC42NzE4NzUtNC43NzczNDQtMTAuNjcxODc1LTEwLjY2Nzk2OSAwLTUuODk0NTMxIDQuNzc3MzQ0LTEwLjY3MTg3NSAxMC42NzE4NzUtMTAuNjcxODc1IDUuODkwNjI1IDAgMTAuNjY3OTY5IDQuNzc3MzQ0IDEwLjY2Nzk2OSAxMC42NzE4NzV6bTAgMCIgZmlsbD0iI2VhYjU5OSIvPjxwYXRoIGQ9Im0zMjEuNzM0Mzc1IDI0Ni40MjE4NzVjMCAxMS45OTIxODctOC43NTc4MTMgMjEuOTMzNTk0LTIwLjIyNjU2MyAyMy43NzczNDQtMS4yNTM5MDYuMjAzMTI1LTIuNTQyOTY4LjMwODU5My0zLjg1OTM3NC4zMDg1OTMtMTMuMzA0Njg4IDAtMjQuMDg1OTM4LTEwLjc4MTI1LTI0LjA4NTkzOC0yNC4wODU5MzdzMTAuNzgxMjUtMjQuMDg1OTM3IDI0LjA4NTkzOC0yNC4wODU5MzdjMS4zMTY0MDYgMCAyLjYwNTQ2OC4xMDU0NjggMy44NTkzNzQuMzA4NTkzIDExLjQ2ODc1IDEuODQ3NjU3IDIwLjIyNjU2MyAxMS43ODkwNjMgMjAuMjI2NTYzIDIzLjc3NzM0NHptMCAwIiBmaWxsPSIjZjZjYWFlIi8+PHBhdGggZD0ibTMyMS43MzQzNzUgMjQ2LjQyMTg3NWMwIDExLjk5MjE4Ny04Ljc1NzgxMyAyMS45MzM1OTQtMjAuMjI2NTYzIDIzLjc3NzM0NC0yLjA4MjAzMS03LjU3NDIxOS0zLjE5NTMxMi0xNS41NDY4NzUtMy4xOTUzMTItMjMuNzc3MzQ0IDAtOC4yMjY1NjMgMS4xMTMyODEtMTYuMTk5MjE5IDMuMTk1MzEyLTIzLjc3NzM0NCAxMS40Njg3NSAxLjg0NzY1NyAyMC4yMjY1NjMgMTEuNzg5MDYzIDIwLjIyNjU2MyAyMy43NzczNDR6bTAgMCIgZmlsbD0iI2VhYjU5OSIvPjxwYXRoIGQ9Im0zMDYuMjU3ODEyIDI0Ni40MjE4NzVjMCA0Ljc1MzkwNi0zLjg1NTQ2OCA4LjYwOTM3NS04LjYwOTM3NCA4LjYwOTM3NS00Ljc1MzkwNyAwLTguNjA1NDY5LTMuODU1NDY5LTguNjA1NDY5LTguNjA5Mzc1czMuODUxNTYyLTguNjA1NDY5IDguNjA1NDY5LTguNjA1NDY5YzQuNzUzOTA2IDAgOC42MDkzNzQgMy44NTE1NjMgOC42MDkzNzQgOC42MDU0Njl6bTAgMCIgZmlsbD0iI2VhYjU5OSIvPjxwYXRoIGQ9Im00NjMuODI4MTI1IDI0Ni40MjE4NzVjMCAxMS45OTIxODcgOC43NTc4MTMgMjEuOTMzNTk0IDIwLjIyNjU2MyAyMy43NzczNDQgMS4yNTM5MDYuMjAzMTI1IDIuNTQyOTY4LjMwODU5MyAzLjg1OTM3NC4zMDg1OTMgMTMuMzA0Njg4IDAgMjQuMDg1OTM4LTEwLjc4MTI1IDI0LjA4NTkzOC0yNC4wODU5MzdzLTEwLjc4MTI1LTI0LjA4NTkzNy0yNC4wODU5MzgtMjQuMDg1OTM3Yy0xLjMxNjQwNiAwLTIuNjA1NDY4LjEwNTQ2OC0zLjg1OTM3NC4zMDg1OTMtMTEuNDY4NzUgMS44NDc2NTctMjAuMjI2NTYzIDExLjc4OTA2My0yMC4yMjY1NjMgMjMuNzc3MzQ0em0wIDAiIGZpbGw9IiNmNmNhYWUiLz48cGF0aCBkPSJtNDYzLjgyODEyNSAyNDYuNDIxODc1YzAgMTEuOTkyMTg3IDguNzU3ODEzIDIxLjkzMzU5NCAyMC4yMjY1NjMgMjMuNzc3MzQ0IDIuMDg1OTM3LTcuNTc0MjE5IDMuMTk1MzEyLTE1LjU0Njg3NSAzLjE5NTMxMi0yMy43NzczNDQgMC04LjIyNjU2My0xLjEwOTM3NS0xNi4xOTkyMTktMy4xOTUzMTItMjMuNzc3MzQ0LTExLjQ2ODc1IDEuODQ3NjU3LTIwLjIyNjU2MyAxMS43ODkwNjMtMjAuMjI2NTYzIDIzLjc3NzM0NHptMCAwIiBmaWxsPSIjZWFiNTk5Ii8+PHBhdGggZD0ibTQ5Ni41MjM0MzggMjQ2LjQyMTg3NWMwIDQuNzUzOTA2LTMuODU1NDY5IDguNjA5Mzc1LTguNjA5Mzc2IDguNjA5Mzc1LTQuNzUzOTA2IDAtOC42MDkzNzQtMy44NTU0NjktOC42MDkzNzQtOC42MDkzNzVzMy44NTU0NjgtOC42MDU0NjkgOC42MDkzNzQtOC42MDU0NjljNC43NTM5MDcgMCA4LjYwOTM3NiAzLjg1MTU2MyA4LjYwOTM3NiA4LjYwNTQ2OXptMCAwIiBmaWxsPSIjZWFiNTk5Ii8+PHBhdGggZD0ibTQ4Mi4zOTg0MzggMjMzLjYyMTA5NGMwIDQ0LjU5Mzc1LTMyLjU3ODEyNiA4MS41ODk4NDQtNzUuMjM0Mzc2IDg4LjQ1NzAzMS00LjY3NTc4MS43Njk1MzEtOS40ODA0NjggMS4xNTYyNS0xNC4zODI4MTIgMS4xNTYyNS00OS40OTYwOTQgMC04OS42MTMyODEtNDAuMTE3MTg3LTg5LjYxMzI4MS04OS42MTMyODEgMC0yMy40MTc5NjkgOC4xMzI4MTItNTguNTc0MjE5IDIyLjgzOTg0My03NC41MzkwNjMgMTYuMzc1LTE3Ljc3NzM0MyA0MC42OTUzMTMtMTUuMDc4MTI1IDY2Ljc3MzQzOC0xNS4wNzgxMjUgNC45MDIzNDQgMCA5LjcwMzEyNS4zOTA2MjUgMTQuMzgyODEyIDEuMTYwMTU2IDQyLjY1NjI1IDYuODY3MTg4IDc1LjIzNDM3NiA0My44NTkzNzYgNzUuMjM0Mzc2IDg4LjQ1NzAzMnptMCAwIiBmaWxsPSIjZWFiNTk5Ii8+PHBhdGggZD0ibTQ4Mi4zOTg0MzggMjMzLjYyMTA5NGMwIDQ0LjU5Mzc1LTMyLjU3ODEyNiA4MS41ODk4NDQtNzUuMjM0Mzc2IDg4LjQ1NzAzMS00Mi42NTIzNDMtNi44NjcxODctNzUuMjMwNDY4LTQzLjg2MzI4MS03NS4yMzA0NjgtODguNDU3MDMxIDAtMjcuNDYwOTM4IDEyLjM1MTU2Mi01Mi4wMzkwNjMgMzEuODA4NTk0LTY4LjQ4MDQ2OSAxMi4xMzI4MTItMTAuMjU3ODEzIDI3LjAzNTE1Ni0xNy4zMzk4NDQgNDMuNDIxODc0LTE5Ljk4MDQ2OSAzOS43NjU2MjYgNi40MDIzNDQgNzAuNzg1MTU3IDM5IDc0Ljc5Mjk2OSA3OS41MjM0MzguMjkyOTY5IDIuOTQxNDA2LjQ0MTQwNyA1LjkyNTc4MS40NDE0MDcgOC45Mzc1em0wIDAiIGZpbGw9IiNmNmNhYWUiLz48cGF0aCBkPSJtMzkyLjc4NTE1NiAyNzcuNzU3ODEyYy03LjUwNzgxMiAwLTE1LjAwNzgxMi0xLjg3ODkwNi0yMS44NDc2NTYtNS42NDA2MjQtMS45MzM1OTQtMS4wNjI1LTIuNjM2NzE5LTMuNDg0Mzc2LTEuNTc0MjE5LTUuNDE0MDYzIDEuMDU4NTk0LTEuOTI5Njg3IDMuNDg0Mzc1LTIuNjMyODEzIDUuNDE0MDYzLTEuNTc0MjE5IDExLjI3MzQzNyA2LjE5OTIxOSAyNC43MzgyODEgNi4xOTkyMTkgMzYuMDE1NjI1IDAgMS45MjU3ODEtMS4wNTg1OTQgNC4zNTE1NjItLjM1NTQ2OCA1LjQxMDE1NiAxLjU3NDIxOSAxLjA2MjUgMS45Mjk2ODcuMzU5Mzc1IDQuMzUxNTYzLTEuNTcwMzEzIDUuNDE0MDYzLTYuODM5ODQzIDMuNzYxNzE4LTE0LjM0NzY1NiA1LjY0MDYyNC0yMS44NDc2NTYgNS42NDA2MjR6bTAgMCIgZmlsbD0iI2VhYjU5OSIvPjxwYXRoIGQ9Im0zNzMuNjk5MjE5IDIyOC40MDIzNDRjMCA1LjYxNzE4Ny00LjU1MDc4MSAxMC4xNjc5NjgtMTAuMTY3OTY5IDEwLjE2Nzk2OC01LjYxMzI4MSAwLTEwLjE2NDA2Mi00LjU1MDc4MS0xMC4xNjQwNjItMTAuMTY3OTY4IDAtNS42MTMyODIgNC41NTA3ODEtMTAuMTY0MDYzIDEwLjE2NDA2Mi0xMC4xNjQwNjMgNS42MTcxODggMCAxMC4xNjc5NjkgNC41NTA3ODEgMTAuMTY3OTY5IDEwLjE2NDA2M3ptMCAwIiBmaWxsPSIjM2Q0MTU5Ii8+PHBhdGggZD0ibTQzMi4xOTkyMTkgMjI4LjQwMjM0NGMwIDUuNjE3MTg3LTQuNTUwNzgxIDEwLjE2Nzk2OC0xMC4xNjQwNjMgMTAuMTY3OTY4LTUuNjE3MTg3IDAtMTAuMTY3OTY4LTQuNTUwNzgxLTEwLjE2Nzk2OC0xMC4xNjc5NjggMC01LjYxMzI4MiA0LjU1MDc4MS0xMC4xNjQwNjMgMTAuMTY3OTY4LTEwLjE2NDA2MyA1LjYxMzI4MiAwIDEwLjE2NDA2MyA0LjU1MDc4MSAxMC4xNjQwNjMgMTAuMTY0MDYzem0wIDAiIGZpbGw9IiMzZDQxNTkiLz48cGF0aCBkPSJtMzcxLjYyNSAyMjYuNjA5Mzc1YzAgMi40MDYyNS0xLjk0OTIxOSA0LjM1NTQ2OS00LjM1NTQ2OSA0LjM1NTQ2OXMtNC4zNTU0NjktMS45NDkyMTktNC4zNTU0NjktNC4zNTU0NjkgMS45NDkyMTktNC4zNTU0NjkgNC4zNTU0NjktNC4zNTU0NjkgNC4zNTU0NjkgMS45NDkyMTkgNC4zNTU0NjkgNC4zNTU0Njl6bTAgMCIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im00MzAuNjI1IDIyNi42MDkzNzVjMCAyLjQwNjI1LTEuOTQ5MjE5IDQuMzU1NDY5LTQuMzU1NDY5IDQuMzU1NDY5cy00LjM1NTQ2OS0xLjk0OTIxOS00LjM1NTQ2OS00LjM1NTQ2OSAxLjk0OTIxOS00LjM1NTQ2OSA0LjM1NTQ2OS00LjM1NTQ2OSA0LjM1NTQ2OSAxLjk0OTIxOSA0LjM1NTQ2OSA0LjM1NTQ2OXptMCAwIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0ibTQwMi45NDkyMTkgMjU0aC0yMC4zMzIwMzFjLTIuNDIxODc2IDAtNC4zODY3MTktMS45NjQ4NDQtNC4zODY3MTktNC4zODY3MTlzMS45NjQ4NDMtNC4zODI4MTIgNC4zODY3MTktNC4zODI4MTJoMjAuMzMyMDMxYzIuNDIxODc1IDAgNC4zODY3MTkgMS45NjA5MzcgNC4zODY3MTkgNC4zODI4MTItLjAwMzkwNyAyLjQyMTg3NS0xLjk2NDg0NCA0LjM4NjcxOS00LjM4NjcxOSA0LjM4NjcxOXptMCAwIiBmaWxsPSIjZWFiNTk5Ii8+PHBhdGggZD0ibTM4Ny41MzkwNjIgMTE4LjQwMjM0NGMyNy4xNDg0MzggMS45NDE0MDYgNDguOTQ1MzEzIDIzLjg3MTA5NCA1MC4zMjQyMTkgNTEuNDc2NTYybC4yNTc4MTMgNS4xODM1OTRoMTUuNjE3MTg3bDguNDEwMTU3IDU1LjkyOTY4OCAyMC4zNzEwOTMtNi4zMDQ2ODgtMi43MzQzNzUtNTQuODA4NTk0Yy0xLjQ0NTMxMi0yOC45OTYwOTQtMjUuNDI5Njg3LTUxLjcyMjY1Ni01NC40NTMxMjUtNTEuNjE3MTg3em0wIDAiIGZpbGw9IiNmZmUxNTIiLz48cGF0aCBkPSJtNDc4LjA1ODU5NCA5Ni43NzM0MzhjMjEuNjE3MTg3IDIxLjYxNzE4NyAyMS42MTcxODcgNTYuNjY3OTY4IDAgNzguMjg1MTU2LTIxLjYxNzE4OCAyMS42MTcxODctNTYuNjY3OTY5IDIxLjYxNzE4Ny03OC4yODUxNTYgMHptMCAwIiBmaWxsPSIjZmZlMTUyIi8+PHBhdGggZD0ibTM5OS43NzM0MzggMTc1LjA1ODU5NGgtNjcuOTM3NWwtOC40MTQwNjMgNTUuOTMzNTk0LTIwLjM3MTA5NC02LjMwNDY4OCAyLjczMDQ2OS01NC44MDg1OTRjMS40NDUzMTItMjguOTkyMTg3IDI1LjQyOTY4OC01MS43MjY1NjIgNTQuNDU3MDMxLTUxLjYxNzE4N2w5OC4xMjEwOTQuMzcxMDkzIDEyLjk3MjY1NiAyMy4zNDc2NTciIGZpbGw9IiNmZmUxNTIiLz48cGF0aCBkPSJtMzk4LjAyNzM0NCAxMTguNDAyMzQ0Yy0yNy4xNDg0MzggMS45NDE0MDYtNDguOTQ1MzEzIDIzLjg3MTA5NC01MC4zMjQyMTkgNTEuNDc2NTYybC0uMjU3ODEzIDUuMTgzNTk0aC0xNS42MTMyODFsLTguNDE0MDYyIDU1LjkyOTY4OC0yMC4zNzEwOTQtNi4zMDQ2ODggMi43MzQzNzUtNTQuODA4NTk0YzEuNDQ1MzEyLTI4Ljk5NjA5NCAyNS40Mjk2ODgtNTEuNzIyNjU2IDU0LjQ1MzEyNS01MS42MTcxODd6bTAgMCIgZmlsbD0iI2U4YzkzNCIvPjxwYXRoIGQ9Im0xMTAuODU5Mzc1IDQxMWMwIDExLjE3OTY4OC04LjE2Nzk2OSAyMC40NDkyMTktMTguODYzMjgxIDIyLjE3MTg3NS0xLjE2Nzk2OS4xODc1LTIuMzY3MTg4LjI4OTA2My0zLjU5Mzc1LjI4OTA2My0xMi40MTAxNTYgMC0yMi40NjA5MzgtMTAuMDU0Njg4LTIyLjQ2MDkzOC0yMi40NjA5MzhzMTAuMDUwNzgyLTIyLjQ1NzAzMSAyMi40NjA5MzgtMjIuNDU3MDMxYzEuMjI2NTYyIDAgMi40MjU3ODEuMDk3NjU2IDMuNTkzNzUuMjg1MTU2IDEwLjY5NTMxMiAxLjcxODc1IDE4Ljg2MzI4MSAxMC45OTIxODcgMTguODYzMjgxIDIyLjE3MTg3NXptMCAwIiBmaWxsPSIjZDNhNDg5Ii8+PHBhdGggZD0ibTExMC44NTkzNzUgNDExYzAgMTEuMTc5Njg4LTguMTY3OTY5IDIwLjQ0OTIxOS0xOC44NjMyODEgMjIuMTcxODc1LTEuOTQxNDA2LTcuMDY2NDA2LTIuOTc2NTYzLTE0LjUtMi45NzY1NjMtMjIuMTcxODc1czEuMDM1MTU3LTE1LjEwOTM3NSAyLjk3NjU2My0yMi4xNzE4NzVjMTAuNjk1MzEyIDEuNzE4NzUgMTguODYzMjgxIDEwLjk5MjE4NyAxOC44NjMyODEgMjIuMTcxODc1em0wIDAiIGZpbGw9IiNiZjhlNzUiLz48cGF0aCBkPSJtOTYuNDI1NzgxIDQxMWMwIDQuNDMzNTk0LTMuNTkzNzUgOC4wMjczNDQtOC4wMjM0MzcgOC4wMjczNDQtNC40MzM1OTQgMC04LjAyNzM0NC0zLjU5Mzc1LTguMDI3MzQ0LTguMDI3MzQ0czMuNTkzNzUtOC4wMjczNDQgOC4wMjczNDQtOC4wMjczNDRjNC40Mjk2ODcgMCA4LjAyMzQzNyAzLjU5Mzc1IDguMDIzNDM3IDguMDI3MzQ0em0wIDAiIGZpbGw9IiNiZjhlNzUiLz48cGF0aCBkPSJtMjQzLjM1OTM3NSA0MTFjMCAxMS4xNzk2ODggOC4xNjQwNjMgMjAuNDQ5MjE5IDE4Ljg1OTM3NSAyMi4xNzE4NzUgMS4xNjc5NjkuMTg3NSAyLjM3MTA5NC4yODkwNjMgMy41OTc2NTYuMjg5MDYzIDEyLjQwNjI1IDAgMjIuNDYwOTM4LTEwLjA1NDY4OCAyMi40NjA5MzgtMjIuNDYwOTM4cy0xMC4wNTQ2ODgtMjIuNDU3MDMxLTIyLjQ2MDkzOC0yMi40NTcwMzFjLTEuMjI2NTYyIDAtMi40Mjk2ODcuMDk3NjU2LTMuNTk3NjU2LjI4NTE1Ni0xMC42OTUzMTIgMS43MTg3NS0xOC44NTkzNzUgMTAuOTkyMTg3LTE4Ljg1OTM3NSAyMi4xNzE4NzV6bTAgMCIgZmlsbD0iI2QzYTQ4OSIvPjxwYXRoIGQ9Im0yNDMuMzU5Mzc1IDQxMWMwIDExLjE3OTY4OCA4LjE2NDA2MyAyMC40NDkyMTkgMTguODU5Mzc1IDIyLjE3MTg3NSAxLjk0MTQwNi03LjA2NjQwNiAyLjk4MDQ2OS0xNC41IDIuOTgwNDY5LTIyLjE3MTg3NXMtMS4wMzkwNjMtMTUuMTA5Mzc1LTIuOTgwNDY5LTIyLjE3MTg3NWMtMTAuNjk1MzEyIDEuNzE4NzUtMTguODU5Mzc1IDEwLjk5MjE4Ny0xOC44NTkzNzUgMjIuMTcxODc1em0wIDAiIGZpbGw9IiNiZjhlNzUiLz48cGF0aCBkPSJtMjYwLjY3MTg3NSAzNjcuMjQyMTg4djMxLjgyMDMxMmMwIDQxLjU4NTkzOC0zMC4zNzg5MDYgNzYuMDgyMDMxLTcwLjE1MjM0NCA4Mi40ODQzNzUtLjEzNjcxOS4wMTk1MzEtLjI3NzM0My4wNDI5NjktLjQxMDE1Ni4wNjY0MDYtNC4yMzA0NjkuNjc1NzgxLTguNTcwMzEzIDEuMDExNzE5LTEzLjAwMzkwNiAxLjAxMTcxOS00Ni4xNDQ1MzEgMC04My41NTg1OTQtMzcuNDE0MDYyLTgzLjU1ODU5NC04My41NjI1di0zMS44MjAzMTJjMC05LjcxNDg0NCAxLjY1NjI1LTE5LjA1NDY4OCA0LjcxODc1LTI3LjczMDQ2OSAxMS40Mjk2ODctMzIuNTE5NTMxIDQyLjQxNzk2OS01NS44MzU5MzggNzguODM5ODQ0LTU1LjgzNTkzOGguMDA3ODEyYzQuNDIxODc1IDAgOC43NzM0MzguMzQzNzUgMTMuMDExNzE5IDEuMDExNzE5IDM5Ljk2ODc1IDYuMjQ2MDk0IDcwLjU0Njg3NSA0MC44MzIwMzEgNzAuNTQ2ODc1IDgyLjU1NDY4OHptMCAwIiBmaWxsPSIjYmY4ZTc1Ii8+PHBhdGggZD0ibTI3My44NDM3NSA0MTFjMCA0LjQzMzU5NC0zLjU5Mzc1IDguMDI3MzQ0LTguMDI3MzQ0IDguMDI3MzQ0cy04LjAyNzM0NC0zLjU5Mzc1LTguMDI3MzQ0LTguMDI3MzQ0IDMuNTkzNzUtOC4wMjczNDQgOC4wMjczNDQtOC4wMjczNDQgOC4wMjczNDQgMy41OTM3NSA4LjAyNzM0NCA4LjAyNzM0NHptMCAwIiBmaWxsPSIjYmY4ZTc1Ii8+PHBhdGggZD0ibTI2MC42NzE4NzUgMzY3LjI0MjE4OHYzMS44MjAzMTJjMCA0MS41ODU5MzgtMzAuMzc4OTA2IDc2LjA4MjAzMS03MC4xNTIzNDQgODIuNDg0Mzc1LS4xMzY3MTkuMDE5NTMxLS4yNzczNDMuMDQyOTY5LS40MTAxNTYuMDY2NDA2LTM5Ljk2ODc1LTYuMjQ2MDkzLTcwLjUzOTA2My00MC44MzIwMzEtNzAuNTM5MDYzLTgyLjU1MDc4MXYtMzEuODIwMzEyYzAtNDEuNzIyNjU3IDMwLjU3ODEyNi03Ni4zMDg1OTQgNzAuNTU0Njg4LTgyLjU1NDY4OCAzOS45Njg3NSA2LjI0NjA5NCA3MC41NDY4NzUgNDAuODMyMDMxIDcwLjU0Njg3NSA4Mi41NTQ2ODh6bTAgMCIgZmlsbD0iI2QzYTQ4OSIvPjxwYXRoIGQ9Im0xNTkuMzEyNSAzOTQuMTk5MjE5YzAgNS4yMzQzNzUtNC4yNDIxODggOS40NzY1NjItOS40NzY1NjIgOS40NzY1NjItNS4yMzgyODIgMC05LjQ4MDQ2OS00LjI0MjE4Ny05LjQ4MDQ2OS05LjQ3NjU2MnM0LjI0MjE4Ny05LjQ4MDQ2OSA5LjQ4MDQ2OS05LjQ4MDQ2OWM1LjIzNDM3NCAwIDkuNDc2NTYyIDQuMjQ2MDk0IDkuNDc2NTYyIDkuNDgwNDY5em0wIDAiIGZpbGw9IiMzZDQxNTkiLz48cGF0aCBkPSJtMjEzLjg2MzI4MSAzOTQuMTk5MjE5YzAgNS4yMzQzNzUtNC4yNDIxODcgOS40NzY1NjItOS40NzY1NjIgOS40NzY1NjItNS4yMzgyODEgMC05LjQ4MDQ2OS00LjI0MjE4Ny05LjQ4MDQ2OS05LjQ3NjU2MnM0LjI0MjE4OC05LjQ4MDQ2OSA5LjQ4MDQ2OS05LjQ4MDQ2OWM1LjIzNDM3NSAwIDkuNDc2NTYyIDQuMjQ2MDk0IDkuNDc2NTYyIDkuNDgwNDY5em0wIDAiIGZpbGw9IiMzZDQxNTkiLz48cGF0aCBkPSJtMTU3LjM3ODkwNiAzOTIuNTIzNDM4YzAgMi4yNDYwOTMtMS44MTY0MDYgNC4wNjI1LTQuMDU4NTk0IDQuMDYyNS0yLjI0NjA5MyAwLTQuMDYyNS0xLjgxNjQwNy00LjA2MjUtNC4wNjI1IDAtMi4yNDIxODggMS44MTY0MDctNC4wNTg1OTQgNC4wNjI1LTQuMDU4NTk0IDIuMjQyMTg4IDAgNC4wNTg1OTQgMS44MTY0MDYgNC4wNTg1OTQgNC4wNTg1OTR6bTAgMCIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im0yMTIuMzk4NDM4IDM5Mi41MjM0MzhjMCAyLjI0NjA5My0xLjgyMDMxMyA0LjA2MjUtNC4wNjI1IDQuMDYyNS0yLjI0MjE4OCAwLTQuMDYyNS0xLjgxNjQwNy00LjA2MjUtNC4wNjI1IDAtMi4yNDIxODggMS44MjAzMTItNC4wNTg1OTQgNC4wNjI1LTQuMDU4NTk0IDIuMjQyMTg3IDAgNC4wNjI1IDEuODE2NDA2IDQuMDYyNSA0LjA1ODU5NHptMCAwIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0ibTE4Ni41ODk4NDQgNDE0LjM0NzY1NmgtMTguOTU3MDMyYy0yLjI2MTcxOCAwLTQuMDg5ODQzLTEuODMyMDMxLTQuMDg5ODQzLTQuMDg5ODQ0IDAtMi4yNTc4MTIgMS44MjgxMjUtNC4wODU5MzcgNC4wODk4NDMtNC4wODU5MzdoMTguOTU3MDMyYzIuMjU3ODEyIDAgNC4wODk4NDQgMS44MjgxMjUgNC4wODk4NDQgNC4wODU5MzcgMCAyLjI1NzgxMy0xLjgzMjAzMiA0LjA4OTg0NC00LjA4OTg0NCA0LjA4OTg0NHptMCAwIiBmaWxsPSIjYmY4ZTc1Ii8+PHBhdGggZD0ibTE3Ny4xMDkzNzUgNDQwLjIxODc1Yy02Ljk5NjA5NCAwLTEzLjk5MjE4Ny0xLjc1MzkwNi0yMC4zNzEwOTQtNS4yNjE3MTktMS44MDA3ODEtLjk4ODI4MS0yLjQ1NzAzMS0zLjI0NjA5My0xLjQ2ODc1LTUuMDQ2ODc1Ljk4ODI4MS0xLjc5Njg3NSAzLjI1LTIuNDUzMTI1IDUuMDQ2ODc1LTEuNDY0ODQ0IDEwLjUxNTYyNSA1Ljc3NzM0NCAyMy4wNzAzMTMgNS43NzczNDQgMzMuNTgyMDMyIDAgMS44MDA3ODEtLjk5MjE4NyA0LjA2MjUtLjMzMjAzMSA1LjA1MDc4MSAxLjQ2NDg0NC45ODgyODEgMS44MDA3ODIuMzMyMDMxIDQuMDU4NTk0LTEuNDY4NzUgNS4wNDY4NzUtNi4zNzUgMy41MDc4MTMtMTMuMzc1IDUuMjYxNzE5LTIwLjM3MTA5NCA1LjI2MTcxOXptMCAwIiBmaWxsPSIjYmY4ZTc1Ii8+PHBhdGggZD0ibTI2MC42NzE4NzUgMzM4LjM2MzI4MXYzMi41OTc2NTdoLTE1LjU1MDc4MXYtMjUuNTIzNDM4bC0xMTIuMjY1NjI1LTIwLjg2MzI4MS0yMy43NTM5MDctNC40MTQwNjN2NTAuODAwNzgyaC0xNS41NTQ2ODd2LTMyLjU5Mzc1YzAtMzcuMTYwMTU3IDMwLjExNzE4Ny02Ny4yNzczNDQgNjcuMjY5NTMxLTY3LjI3NzM0NGgzMi41ODU5MzhjLjg4NjcxOCAwIDEuNzY5NTMxLjAxNTYyNSAyLjY1NjI1LjA1ODU5NCAzNS45MTc5NjggMS4zODI4MTIgNjQuNjEzMjgxIDMwLjk0MTQwNiA2NC42MTMyODEgNjcuMjE0ODQzem0wIDAiIGZpbGw9IiNhMzU0MTgiLz48cGF0aCBkPSJtMjYwLjY3MTg3NSAzMzguMzYzMjgxdjMyLjU5NzY1N2gtMTUuNTUwNzgxdi0yNS41MjM0MzhsLTExMi4yNjU2MjUtMjAuODYzMjgxYzYuMTgzNTkzLTI5LjcxMDkzOCAzMS45NjA5MzctNTIuMjIyNjU3IDYzLjIwMzEyNS01My40MjU3ODEgMzUuOTE3OTY4IDEuMzgyODEyIDY0LjYxMzI4MSAzMC45NDE0MDYgNjQuNjEzMjgxIDY3LjIxNDg0M3ptMCAwIiBmaWxsPSIjY2M3YTNiIi8+PC9zdmc+Cg==" />
                <p>
                  Congratulations! You've been invited by <strong>{owner.name}
                  </strong> to join a group on Hangerang!
                </p>
                <hr />
              </div>
            }
            <h3>{group.name}</h3>
              <div className="small">
                (Code Name: <span className="group-sms-name">{group.smsname}</span>)
              </div>
              <hr />
              <div className="small">{group.description}</div>
              <hr />
              <div>
                {owner &&
                  <div className="crew-member-row" key={`crew-member-0`}>
                    <img src={owner.userphoto} alt={owner.name} className="crew-member-image" />
                    <p className="small crew-member-name">{owner.name}</p>
                    <div className="crew-member-info">
                      <span className="crew-member-status owner">Owner</span>
                    </div>
                  </div>
                }
                {Members}
                {this.props.invite && user &&
                  <div>
                    <hr />
                    <Route render={({history}) => (
                      <p>
                        <button className="btn"
                          onClick={() => {
                            this.memberJoin(user, group);
                            history.push('/groups');
                          }
                        }>
                          Count Me In!
                        </button>
                      </p>
                    )}/>
                    <div>
                      <p>
                        <Route render={({history}) => (
                          <a className="underline small" onClick={() => {
                            this.memberLeave(user.uid);
                            //history.push('/groups');
                            }
                          }>No thanks. Not into it.</a>
                        )}/>
                      </p>
                    </div>
                  </div>
                }
                {this.props.invite && !user &&
                  <div>
                    <hr />
                    <Route render={({history}) => (
                      <p>
                        <button className="btn"
                          onClick={() => {
                            history.push('/');
                          }
                        }>
                          Count Me In!
                        </button>
                      </p>
                    )}/>
                  </div>
                }
                {shareUrl && user && owner && user.uid === owner.uid &&
                  <div>
                    <hr />
                    <button className="btn"
                      onClick={() => this.handleShareButton(shareUrl)}>
                      Invite People
                    </button>
                  </div>
                }
              </div>
            </div>
          }
        </div>
        </div>
      );
    }
}

export default GroupsView;
